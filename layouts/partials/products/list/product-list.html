<div class="relative flex h-auto min-h-screen w-full flex-col overflow-x-hidden pb-10">
<header class="sticky top-0 z-50 bg-background-light/90 dark:bg-background-dark/90 backdrop-blur-md transition-colors duration-300 border-b border-black/5 dark:border-white/5">
<div class="flex items-center px-4 py-3 justify-between">
<button class="flex size-10 items-center justify-center text-current hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors">
<span class="material-symbols-outlined text-[24px]">menu</span>
</button>
<h2 class="text-xl font-extrabold tracking-widest uppercase flex-1 text-center">MICROSTORE</h2>
<div class="flex items-center justify-end gap-1">
<button class="flex size-10 items-center justify-center text-current hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors relative">
<span class="material-symbols-outlined text-[24px]">shopping_bag</span>
<span class="absolute top-2 right-2 size-2 bg-primary rounded-full"></span>
</button>
</div>
</div>
<div class="w-full px-4 py-3 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-sm border-b border-black/5 dark:border-white/5">
<div class="flex gap-3 overflow-x-auto no-scrollbar items-center">
<button class="filter-button whitespace-nowrap px-5 py-2 rounded-full bg-black text-white dark:bg-white dark:text-black font-semibold text-sm transition-transform active:scale-95">
                    All
                </button>
<button class="filter-button whitespace-nowrap px-5 py-2 rounded-full bg-transparent border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 font-medium text-sm hover:border-black dark:hover:border-white transition-colors active:scale-95">
                    Chandeliers
                </button>
<button class="filter-button whitespace-nowrap px-5 py-2 rounded-full bg-transparent border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 font-medium text-sm hover:border-black dark:hover:border-white transition-colors active:scale-95">
                    Floor Light
                </button>
<button class="filter-button whitespace-nowrap px-5 py-2 rounded-full bg-transparent border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 font-medium text-sm hover:border-black dark:hover:border-white transition-colors active:scale-95">
                    Wall Light
                </button>
<button class="filter-button whitespace-nowrap px-5 py-2 rounded-full bg-transparent border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 font-medium text-sm hover:border-black dark:hover:border-white transition-colors active:scale-95">
                    Pendant Light
                </button>
</div>
</div>
</header>
<section class="flex flex-col gap-4 py-6 px-4">
<div class="grid grid-cols-2 gap-x-4 gap-y-8">
{{ range .Data.Pages }}
<a href="{{ .Permalink }}" class="product-item flex flex-col gap-3 group" data-category="{{ index .Params.categories 0 }}">
<div class="relative aspect-[3/4] w-full overflow-hidden rounded-lg bg-gray-100">
<div class="absolute inset-0 bg-cover bg-center transition-transform duration-500 group-hover:scale-105" style="background-image: url('{{ .Params.thumbnailImage | absURL }}');">
</div>
</div>
<div>
<h3 class="font-bold text-sm leading-tight line-clamp-2">{{ .Title }}</h3>
<p class="mt-1 text-sm font-semibold text-primary">{{ with index .Params.variants 0 }}{{ .actualPrice | replaceRE `^[^\d]+` "$" }}{{ end }}</p>
</div>
</a>
{{ end }}
</div>
</section>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const filterButtons = document.querySelectorAll('.filter-button');
    const productItems = document.querySelectorAll('.product-item');

    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            const category = this.textContent.trim().toLowerCase();
            
            // Update active button styles
            filterButtons.forEach(btn => {
                if (btn === this) {
                    btn.classList.remove('bg-transparent', 'border-gray-300', 'dark:border-gray-700', 'text-gray-700', 'dark:text-gray-300', 'font-medium');
                    btn.classList.add('bg-black', 'text-white', 'dark:bg-white', 'dark:text-black', 'font-semibold');
                } else {
                    btn.classList.remove('bg-black', 'text-white', 'dark:bg-white', 'dark:text-black', 'font-semibold');
                    btn.classList.add('bg-transparent', 'border', 'border-gray-300', 'dark:border-gray-700', 'text-gray-700', 'dark:text-gray-300', 'font-medium');
                }
            });

            // Filter products
            productItems.forEach(item => {
                const itemCategory = item.getAttribute('data-category').toLowerCase();
                if (category === 'all' || itemCategory.includes(category)) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        });
    });
});
</script>
